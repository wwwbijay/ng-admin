<!-- Modal -->
<div class="modal fade" id="editUserModal" tabindex="-1" role="dialog" aria-labelledby="editUserModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content" id="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Edit user</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div *ngIf="submitted" class="submitted">
        <div
          class="alert text-center"
          [ngClass]="submitted_success ? 'alert-success' : 'alert-danger'"
          role="alert"
        >
          <p>
            {{ submitted_msg }}
          </p>
        </div>
      </div>
      <div class="toast" style="position: fixed; bottom: 0; right: 0;">
          <div class="toast-header">
            <img src="..." class="rounded mr-2" alt="...">
            <strong class="mr-auto">Bootstrap</strong>
            <small>11 mins ago</small>
            <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="toast-body">
            Hello, world! This is a toast message.
          </div>
        </div>
     
     
        <form  *ngFor="let item of userToEdit" [formGroup]="updateUserForm" (ngSubmit)="submitEditForm(item.id)">
          
          <div class="modal-body">
            <div class="row align-items-center">
              <div class="col-4">
                <div class="profile_image">
                  <label for="upload_profile_image"> 
                    <img [src]="userAvatarPath " />
                  </label>
                </div>
              </div>
              <div class="col-8">
                <div class="form-section-heading">
                  <h5 class="title">Change Profile Image</h5>
                </div>
                <div class="form-group">
                  <input
                    id="upload_profile_image"
                    name="avatar"
                    type="file"
                    accept="image/png, image/jpeg"
                  (change)="uploadFile($event)" />
                </div>
              </div>
            </div>
            
            <div class="form-section-heading">
              <h4 class="title"><span class="grey_txt">User:</span> {{item.userName}}</h4>
            </div>
            <div class="row">
              <div class="col">
                <div class="form-group">
                  <span class="material-icons"> person </span>
                  <input
                    id="fullname"
                    type="text"
                    class="form-control"
                    name="fullname"
                    placeholder="Full Name"
                    formControlName="fullname"
                  />
                  <small
                    *ngIf="fullName && fullName.invalid && fullName.touched"
                    class="err_msg"
                  >
                    Please enter full name.
                  </small>
                </div>
              </div>
              <div class="col">
                <div class="custom-control custom-switch">
                  
                  <input name="isactive" formControlName="isactive" type="checkbox" class="custom-control-input" id="is_active">
                  <label class="custom-control-label" for="is_active">Is Active?</label>
                </div>
              </div>
            </div>
            <!--.row ends-->
  
            <div class="row">
              <div class="col">
                <div class="form-group">
                  <span class="material-icons"> email </span>
                  <input
                    id="email"
                    type="email"
                    class="form-control"
                    name="email"
                    placeholder="Email Address"
                    formControlName="email"
                  />
                  <small
                    *ngIf="email && email.invalid && email.touched"
                    class="err_msg"
                  >
                    Please enter valid email.
                  </small>
                </div>
              </div>
              <div class="col">
                <div class="form-group">
                  <span class="material-icons"> map </span>
                  <input
                    id="address"
                    type="text"
                    class="form-control"
                    name="address"
                    placeholder="Address"
                    formControlName="address"
                  />
                </div>
              </div>
            </div>
            <!--.row ends-->
  
            <div class="row">
              <div class="col">
                <div class="form-group">
                  <span class="material-icons"> phone_iphone </span>
                  <input
                    class="form-control"
                    type="text"
                    id="mobile"
                    name="mobile"
                    placeholder="Mobile Number"
                    formControlName="mobile"
                  />
                  <small
                    *ngIf="mobile && mobile.invalid && mobile.touched"
                    class="err_msg"
                  >
                    Please enter valid email.
                  </small>
                </div>
              </div>
              <div class="col">
                <div class="form-group">
                  <span class="material-icons"> call </span>
                  <input
                    class="form-control"
                    type="text"
                    id="phone"
                    name="phone"
                    placeholder="Phone Number"
                    formControlName="phone"
                  />
                </div>
              </div>
            </div>
            <!--.row ends-->
  
            <div class="row">
              <div class="col">
                <div class="form-group">
                  <label>DOB</label>
                  <span class="material-icons"> date </span>
  
                  <input
                    class="form-control"
                    type="date"
                    id="dob"
                    name="dob"
                    placeholder="Date of Birth"
                    formControlName="dob"
                  />
                </div>
              </div>
              <div class="col">
                <div class="form-group">
                  <label>Select Gender</label>
                  <select
                    name="gender"
                    class="form-control"
                    formControlName="gender"
                  >
                    <option value="" selected disabled hidden>
                      Select Gender
                    </option>
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                  </select>
                </div>
              </div>
              <div class="col">
                <div class="form-group">
                  <label>Department</label>
                  <input
                    type="text"
                    name="department"
                    class="form-control"
                    formControlName="department"
                    placeholder="Enter Department"
                  />
                </div>
              </div>
            </div>
            <!--.row ends-->
  
            <div class="form-section-heading">
              <h4 class="title">Assign Role</h4>
            </div>
  
            <div class="row">
              <div class="col-12">
                <div class="form-group">
                  <label>Select roles</label>
  
                  <div class="row">
                    <div
                      *ngFor="let role of allRoleLists; let i = index"
                      class="col-3" >
                      <div class="form-check">
                        <input
                          class="form-check-input"
                          type="checkbox"
                          id="role-option-{{ i }}"
                          [(ngModel)]="role.isselected"
                          [ngModelOptions]="{ standalone: true }"
                        />
  
                        <label class="form-check-label" for="role-option-{{ i }}">
                          {{ role.name }}
                        </label>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col"></div>
            </div>
            <!--.row ends-->
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button
                  [disabled]="updateUserForm.invalid"
                  type="submit"
                  class="btn btn-primary"
                >
                  Update User
                </button>
          </div>
        </form>
    </div>
  </div>
</div>
<!-- Modal Edit User ENDS -->